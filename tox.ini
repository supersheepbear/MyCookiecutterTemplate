# tox.ini: Configuration file for tox, a tool for automating testing in multiple Python environments

[tox]
# List of environments to run tests in
# py39, py310, py311, py312: Python versions 3.9, 3.10, 3.11, and 3.12
# ruff: Code style checker
envlist = py39, py310, py311, py312, ruff, mypy, coverage

[testenv:ruff]
# Configuration for the ruff test environment
deps = ruff  # Install ruff as a dependency
commands = ruff check src/cookiecutter_test tests  # Run ruff on specified directories

[testenv:mypy]
# Configuration for the mypy test environment
deps = mypy
commands = mypy src/cookiecutter_test

[testenv:coverage]
# Configuration for the coverage test environment
deps = 
    coverage
    pytest
commands =
    coverage run -m pytest
    coverage report -m
    coverage html

[testenv]
basepython =
    python39: d:/sw_install/Python309/python.exe
    python310: d:/sw_install/Python310/python.exe
    python311: d:/sw_install/Python311/python.exe
    python312: d:/sw_install/Python312/python.exe  # Added Python 3.12 for the py312 environment
# Configuration for all test environments (py39, py310, py311, py312)
setenv =
    # Set environment variables for the test environments
    PYTHONPATH = {toxinidir}  # Set PYTHONPATH to the directory containing tox.ini
deps =
    # Install dependencies from the requirements_dev.txt file
    .[dev]
# If you want to make tox run the tests with the same versions, create a
# requirements.txt with the pinned versions and uncomment the following line:
#     -r{toxinidir}/requirements.txt
commands =
    # Commands to run in each test environment
    pytest --basetemp={envtmpdir}  # Run pytest, using a temporary directory for test files

# Detailed explanation for beginners:

# 1. [tox] section:
#    - envlist: Specifies which test environments to run. In this case, it will run tests
#      on Python 3.6, 3.7, 3.8, and also run the flake8 code style checker.

# 2. [travis] section:
#    - This section is used by Travis CI, a service that automatically runs your tests
#      when you push code to your repository.
#    - It maps Python versions to tox environments. For example, when Travis uses
#      Python 3.8, it will run the 'py38' tox environment.

# 3. [testenv:flake8] section:
#    - This creates a special environment for running flake8, a tool that checks
#      your code style and quality.
#    - It installs flake8 and runs it on the 'cookiecutter_test' and 'tests' directories.

# 4. [testenv] section:
#    - This section defines settings for all test environments (py36, py37, py38).
#    - setenv: Sets the PYTHONPATH environment variable to the directory containing tox.ini.
#    - deps: Installs dependencies from the requirements_dev.txt file.
#    - commands: 
#      - Upgrades pip to the latest version.
#      - Runs pytest (a testing framework) using a temporary directory for test files.

# The commented-out line about requirements.txt is a reminder that you can use a
# separate requirements file with pinned versions if you want to ensure all
# environments use the exact same package versions.

